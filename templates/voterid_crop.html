<!DOCTYPE html>
<html lang="en">
<head>
    <!-- SEO Meta Tags -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Voter ID Crop Tool - Free Online Voter ID PDF to Image Converter</title>
    <meta name="description" content="Free online Voter ID Crop Tool. Extract and crop perfect Voter ID card images from e-EPIC PDF documents in seconds. Convert Voter ID PDF to JPG/PNG images instantly.">
    <meta name="keywords" content="voter id crop, voter id pdf to image, crop voter id, voter id converter, voter id extractor, voter id image, voter id jpg, voter id png, voter id online tool, free voter id crop, crop e-epic, epic voter id crop">
    <meta name="author" content="E-Card Cutter">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Voter ID Crop Tool - Free Online Voter ID PDF to Image Converter">
    <meta property="og:description" content="Extract and crop perfect Voter ID card images from e-EPIC PDF documents in seconds. Convert Voter ID PDF to JPG/PNG images instantly.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://ecardcutter.in/voterid-crop">
    <meta property="og:image" content="https://ecardcutter.in/static/images/voter-id-crop-tool-preview.jpg">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Voter ID Crop Tool - Free Online Voter ID PDF to Image Converter">
    <meta name="twitter:description" content="Extract and crop perfect Voter ID card images from e-EPIC PDF documents in seconds.">
    <meta name="twitter:image" content="https://ecardcutter.in/static/images/voter-id-crop-tool-preview.jpg">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://ecardcutter.in/voterid-crop">
    
    <!-- Schema.org Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "Voter ID Crop Tool",
      "description": "Free online tool to crop and extract Voter ID card images from e-EPIC PDF documents",
      "url": "https://ecardcutter.in",
      "applicationCategory": "UtilityApplication",
      "operatingSystem": "Any",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "author": {
        "@type": "Organization",
        "name": "E-Card Cutter"
      },
      "screenshot": "https://ecardcutter.in/static/images/voter-id-crop-tool-preview.jpg"
    }
    </script>
    
    <link rel="icon" type="image/x-icon" href="/static/images/logo.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        :root {
            --primary: #4361ee;
            --secondary: #3a0ca3;
            --accent: #7209b7;
            --light: #f8f9fa;
            --dark: #2b2d42;
            --success: #4cc9f0;
            --warning: #f72585;
            --voter-color: #9c27b0;
            --gradient: linear-gradient(135deg, #9c27b0 0%, #ba68c8 50%, #9c27b0 100%);
        }
        
        body {
            background: linear-gradient(135deg, #f5f7ff 0%, #f0f4ff 100%);
            color: var(--dark);
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            padding: 15px 5%;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .logo-image {
            width: 35px;
            height: 35px;
            object-fit: contain;
            border-radius: 8px;
        }
        
        .logo h1 {
            font-size: 1.6rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--voter-color), #ba68c8);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        nav ul {
            display: flex;
            list-style: none;
            gap: 20px;
            align-items: center;
        }
        
        nav ul li a {
            text-decoration: none;
            color: var(--dark);
            font-weight: 600;
            padding: 8px 16px;
            border-radius: 25px;
            transition: all 0.3s ease;
        }
        
        nav ul li a:hover {
            color: var(--voter-color);
            background: rgba(156, 39, 176, 0.1);
        }

        /* NEW: Dropdown Menu Styles */
        .dropdown {
            position: relative;
        }

        .dropdown-toggle {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
        }

        .dropdown-menu {
            position: absolute;
            top: 100%;
            left: 0;
            background: white;
            min-width: 220px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            border-radius: 15px;
            padding: 10px 0;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .dropdown:hover .dropdown-menu {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .dropdown-item {
            display: block;
            padding: 12px 20px;
            color: var(--dark);
            text-decoration: none;
            transition: all 0.3s ease;
            border-left: 3px solid transparent;
        }

        .dropdown-item:hover {
            background: rgba(67, 97, 238, 0.1);
            color: var(--primary);
            border-left-color: var(--primary);
            padding-left: 25px;
        }

        .dropdown-divider {
            height: 1px;
            background: #e9ecef;
            margin: 8px 0;
        }

        .mobile-menu {
            display: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--dark);
        }

        .main-container {
            max-width: 1400px;
            margin: 120px auto 0;
            padding: 20px;
            display: flex;
            gap: 20px;
            flex: 1;
        }

        .left-sidebar, .right-sidebar {
            width: 160px;
            flex-shrink: 0;
        }

        .sidebar-ad {
            position: sticky;
            top: 140px;
            background: white;
            border-radius: 10px;
            padding: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border: 1px solid #e0e0e0;
            text-align: center;
            min-height: 600px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .sidebar-ad .ad-label {
            position: absolute;
            top: 8px;
            right: 8px;
            background: #f0f0f0;
            color: #666;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.7rem;
        }

        .content-area {
            flex: 1;
            max-width: 1000px;
        }

        .ad-slot {
            background: white;
            border-radius: 10px;
            padding: 15px;
            margin: 20px 0;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border: 1px solid #e0e0e0;
            text-align: center;
            min-height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .ad-label {
            position: absolute;
            top: 8px;
            right: 8px;
            background: #f0f0f0;
            color: #666;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.7rem;
        }

        .ad-slot.responsive-ad {
            min-height: 90px;
            margin: 0 0 30px 0;
        }

        .ad-slot.before-convert {
            min-height: 90px;
            margin: 25px 0;
        }

        .tool-header {
            text-align: center;
            margin-bottom: 40px;
            background: linear-gradient(135deg, var(--voter-color), #ba68c8);
            padding: 50px 20px 40px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(156, 39, 176, 0.2);
            margin-top: 40px;
            position: relative;
            overflow: hidden;
        }

        .tool-title {
            font-size: 2.8rem;
            font-weight: 800;
            color: white;
            margin-bottom: 25px;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
            line-height: 1.2;
        }

        .tool-subtitle {
            font-size: 1.2rem;
            color: white;
            max-width: 600px;
            margin: 0 auto;
            background: rgba(156, 39, 176, 0.9);
            padding: 15px 30px;
            border-radius: 25px;
            box-shadow: 0 5px 15px rgba(156, 39, 176, 0.3);
            position: relative;
            line-height: 1.5;
            font-weight: 500;
            border: 2px solid rgba(255, 255, 255, 0.3);
        }

        .tool-subtitle::before, .tool-subtitle::after {
            content: "â€¢â€¢â€¢";
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.8rem;
            letter-spacing: 2px;
        }

        .tool-subtitle::before {
            left: 15px;
        }

        .tool-subtitle::after {
            right: 15px;
        }

        .upload-card {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 15px 50px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(156, 39, 176, 0.1);
            margin-bottom: 40px;
            position: relative;
            overflow: hidden;
        }

        .upload-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--voter-color), #ba68c8);
        }

        .upload-area {
            border: 3px dashed #e0e0e0;
            border-radius: 15px;
            padding: 60px 30px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            background: #fafafa;
            position: relative;
        }

        .upload-area:hover {
            border-color: var(--voter-color);
            background: #faf4ff;
            transform: translateY(-2px);
        }

        .upload-area.dragover {
            border-color: var(--voter-color);
            background: #f3e5f5;
        }

        .upload-icon {
            font-size: 4rem;
            color: var(--voter-color);
            margin-bottom: 20px;
        }

        .upload-area h3 {
            font-size: 1.5rem;
            color: var(--dark);
            margin-bottom: 10px;
        }

        .upload-area p {
            color: #666;
            margin-bottom: 25px;
        }

        .browse-btn {
            background: linear-gradient(135deg, var(--voter-color), #ba68c8);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
        }

        .browse-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(156, 39, 176, 0.3);
        }

        .process-btn {
            background: var(--dark);
            margin-top: 20px;
            padding: 15px 40px;
            font-size: 1.1rem;
        }

        .process-btn:hover {
            background: #1a1d2e;
        }

        .file-name {
            color: var(--success);
            font-weight: 600;
            margin: 15px 0;
            padding: 10px 15px;
            background: rgba(76, 201, 240, 0.1);
            border-radius: 8px;
            display: none;
        }

        .password-section {
            margin: 20px 0;
            display: none;
            max-width: 300px;
            margin-left: auto;
            margin-right: auto;
        }

        .password-input {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1rem;
            margin-bottom: 8px;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin: 40px 0;
        }

        .feature-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
            border-left: 4px solid var(--voter-color);
            transition: transform 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-5px);
        }

        .feature-icon {
            font-size: 2.5rem;
            color: var(--voter-color);
            margin-bottom: 15px;
        }

        .guide-section {
            background: white;
            border-radius: 20px;
            padding: 50px 40px;
            box-shadow: 0 15px 50px rgba(0, 0, 0, 0.1);
            margin-top: 40px;
        }

        .guide-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .guide-header h2 {
            font-size: 2.2rem;
            color: var(--dark);
            margin-bottom: 10px;
        }

        .guide-steps {
            display: grid;
            gap: 25px;
            max-width: 800px;
            margin: 0 auto;
        }

        .guide-step {
            display: flex;
            align-items: flex-start;
            gap: 20px;
            padding: 25px;
            background: #f8f9fa;
            border-radius: 12px;
            border-left: 4px solid var(--voter-color);
        }

        .step-number {
            background: var(--voter-color);
            color: white;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            flex-shrink: 0;
        }

        /* Preview Sections */
        .preview-section {
            display: none;
            margin-top: 30px;
        }

        .preview-container {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            border: 2px solid var(--success);
        }

        .preview-title {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-bottom: 20px;
        }

        .preview-title i {
            color: var(--success);
            font-size: 1.8rem;
        }

        .preview-title h3 {
            color: var(--success);
            font-size: 1.5rem;
        }

        .crops-preview {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 25px 0;
        }

        .crop-side {
            text-align: center;
        }

        .crop-side h4 {
            color: var(--dark);
            margin-bottom: 15px;
            font-size: 1.2rem;
        }

        .preview-image {
            max-width: 100%;
            max-height: 300px;
            border-radius: 10px;
            border: 2px solid #ddd;
            display: none;
        }

        .preview-placeholder {
            width: 100%;
            height: 250px;
            background: linear-gradient(45deg, #f0f8ff, #e6f7ff);
            border: 2px dashed var(--primary);
            border-radius: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: var(--primary);
            font-weight: bold;
        }

        /* PVC Preview Section */
        .pvc-preview-section {
            display: none;
            margin-top: 30px;
        }

        .pvc-preview-container {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            border: 2px solid var(--voter-color);
        }

        .pvc-preview-title {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-bottom: 20px;
        }

        .pvc-preview-title i {
            color: var(--voter-color);
            font-size: 1.8rem;
        }

        .pvc-preview-title h3 {
            color: var(--voter-color);
            font-size: 1.5rem;
        }

        .pvc-cards-preview {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 25px 0;
        }

        .pvc-card {
            text-align: center;
            padding: 20px;
            background: linear-gradient(135deg, #f8f9ff 0%, #f0f4ff 100%);
            border-radius: 15px;
            border: 3px solid transparent;
            transition: all 0.3s ease;
        }

        .pvc-card.front {
            border-color: var(--voter-color);
        }

        .pvc-card.back {
            border-color: var(--primary);
        }

        .pvc-card h4 {
            margin-bottom: 15px;
            font-size: 1.1rem;
        }

        .pvc-card.front h4 {
            color: var(--voter-color);
        }

        .pvc-card.back h4 {
            color: var(--primary);
        }

        .pvc-image {
            max-width: 100%;
            max-height: 200px;
            border-radius: 8px;
            display: none;
        }

        .pvc-placeholder {
            width: 100%;
            height: 180px;
            background: white;
            border: 2px dashed;
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .pvc-card.front .pvc-placeholder {
            border-color: var(--voter-color);
            color: var(--voter-color);
        }

        .pvc-card.back .pvc-placeholder {
            border-color: var(--primary);
            color: var(--primary);
        }

        /* NEW: Border Options */
        .border-options {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            display: none;
        }

        .border-options h4 {
            margin-bottom: 15px;
            color: var(--dark);
            text-align: center;
        }

        .border-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .border-option-btn {
            padding: 10px 20px;
            border: 2px solid var(--primary);
            background: white;
            color: var(--primary);
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
        }

        .border-option-btn:hover {
            background: var(--primary);
            color: white;
            transform: translateY(-2px);
        }

        .border-option-btn.active {
            background: var(--primary);
            color: white;
        }

        /* Action Buttons */
        .action-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 25px;
            flex-wrap: wrap;
        }

        .action-btn {
            padding: 12px 25px;
            border: none;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .download-btn {
            background: var(--success);
            color: white;
        }

        .download-btn:hover {
            background: #3ab8df;
            transform: translateY(-2px);
        }

        .pvc-btn {
            background: var(--primary);
            color: white;
        }

        .pvc-btn:hover {
            background: #3a0ca3;
            transform: translateY(-2px);
        }

        .print-btn {
            background: var(--voter-color);
            color: white;
        }

        .print-btn:hover {
            background: #7b1fa2;
            transform: translateY(-2px);
        }

        .new-crop-btn {
            background: var(--dark);
            color: white;
        }

        /* Print Options */
        .print-options {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        .print-options h4 {
            margin-bottom: 15px;
            color: var(--dark);
            text-align: center;
        }

        .print-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .print-option-btn {
            padding: 10px 20px;
            border: 2px solid var(--primary);
            background: white;
            color: var(--primary);
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
        }

        .print-option-btn:hover {
            background: var(--primary);
            color: white;
            transform: translateY(-2px);
        }

        footer {
            background: var(--dark);
            color: white;
            text-align: center;
            padding: 30px 20px;
            margin-top: 60px;
        }

        .loading-spinner {
            display: none;
            margin: 20px auto;
            width: 40px;
            height: 40px;
            border: 4px solid rgba(156, 39, 176, 0.2);
            border-radius: 50%;
            border-top-color: var(--voter-color);
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .error-message {
            color: var(--warning);
            background: rgba(247, 37, 133, 0.1);
            padding: 12px 15px;
            border-radius: 8px;
            margin: 15px 0;
            display: none;
        }

        .success-message {
            color: var(--success);
            background: rgba(76, 201, 240, 0.1);
            padding: 12px 15px;
            border-radius: 8px;
            margin: 15px 0;
            display: none;
        }

        .auto-delete-notice {
            background: rgba(76, 201, 240, 0.1);
            border: 1px solid var(--success);
            border-radius: 8px;
            padding: 10px 15px;
            margin: 15px 0;
            text-align: center;
            font-size: 0.9rem;
            color: var(--success);
            display: none;
        }

        /* SEO Content Section */
        .seo-content {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 15px 50px rgba(0, 0, 0, 0.1);
            margin-top: 40px;
            line-height: 1.8;
        }

        .seo-content h2 {
            color: var(--voter-color);
            margin-bottom: 20px;
            font-size: 1.8rem;
        }

        .seo-content h3 {
            color: var(--dark);
            margin: 25px 0 15px;
            font-size: 1.4rem;
        }

        .seo-content p {
            margin-bottom: 15px;
        }

        .seo-content ul {
            margin-left: 20px;
            margin-bottom: 20px;
        }

        .seo-content li {
            margin-bottom: 10px;
        }

        .official-links {
            background: #e8f5e9;
            border-left: 4px solid #4caf50;
            padding: 20px;
            border-radius: 8px;
            margin: 25px 0;
        }

        .official-links h3 {
            color: #2e7d32;
            margin-top: 0;
        }

        .official-link {
            display: inline-block;
            background: #4caf50;
            color: white;
            padding: 10px 20px;
            border-radius: 5px;
            text-decoration: none;
            font-weight: 600;
            margin: 10px 10px 0 0;
            transition: all 0.3s ease;
        }

        .official-link:hover {
            background: #388e3c;
            transform: translateY(-2px);
        }

        /* Responsive Design */
        @media (max-width: 1024px) {
            .left-sidebar, .right-sidebar {
                display: none;
            }
            
            .main-container {
                max-width: 1200px;
            }
        }

        @media (max-width: 768px) {
            .tool-title {
                font-size: 2.2rem;
            }
            
            .tool-subtitle {
                font-size: 1.1rem;
                padding: 12px 20px;
            }
            
            .upload-card {
                padding: 25px;
            }
            
            .upload-area {
                padding: 40px 20px;
            }
            
            .features-grid {
                grid-template-columns: 1fr;
            }
            
            .guide-step {
                flex-direction: column;
                text-align: center;
            }
            
            .action-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .crops-preview,
            .pvc-cards-preview {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .ad-slot.responsive-ad,
            .ad-slot.before-convert {
                min-height: 50px;
                padding: 10px;
            }

            nav {
                display: none;
                position: absolute;
                top: 100%;
                left: 0;
                width: 100%;
                background: white;
                box-shadow: 0 5px 20px rgba(0,0,0,0.1);
                padding: 15px;
            }
           
            nav.active {
                display: block;
            }
           
            nav ul {
                flex-direction: column;
                gap: 10px;
            }

            .dropdown-menu {
                position: static;
                box-shadow: none;
                background: #f8f9fa;
                margin-top: 10px;
            }
           
            .mobile-menu {
                display: block;
            }
        }

        @media (max-width: 480px) {
            .tool-title {
                font-size: 2rem;
            }
            
            .tool-subtitle {
                font-size: 1rem;
                padding: 10px 15px;
            }
        }
    </style>
</head>
<body>
    <!-- Breadcrumb Navigation -->
    <div itemscope itemtype="https://schema.org/BreadcrumbList" style="display: none;">
        <span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
            <a itemprop="item" href="https://ecardcutter.in/">
                <span itemprop="name">Home</span>
            </a>
            <meta itemprop="position" content="1" />
        </span>
        <span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
            <a itemprop="item" href="https://ecardcutter.in/tools">
                <span itemprop="name">Tools</span>
            </a>
            <meta itemprop="position" content="2" />
        </span>
        <span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
            <a itemprop="item" href="https://ecardcutter.in/voterid-crop">
                <span itemprop="name">Voter ID Crop Tool</span>
            </a>
            <meta itemprop="position" content="3" />
        </span>
    </div>

    <!-- UPDATED HEADER WITH DROPDOWN MENU -->
    <header>
        <a href="/" class="logo">
            <img src="/static/images/logo.png" alt="E-Card Cutter - Voter ID Crop Tool" class="logo-image">
            <h1>Voter ID <span>Crop</span></h1>
        </a>
        <div class="mobile-menu">
            <i class="fas fa-bars"></i>
        </div>
        <nav>
            <ul>
                <li><a href="/">Home</a></li>
                <li class="dropdown">
                    <a href="#tools" class="dropdown-toggle">
                        Tools <i class="fas fa-chevron-down"></i>
                    </a>
                    <div class="dropdown-menu">
                        <a href="/aadhaar-crop" class="dropdown-item">Aadhaar Crop</a>
                        <a href="/janaadhaar-crop" class="dropdown-item">Janaadhaar Crop</a>
                        <a href="/pan-crop" class="dropdown-item">PAN Crop</a>
                        <a href="/voterid-crop" class="dropdown-item">Voter ID Crop</a>
                        <div class="dropdown-divider"></div>
                        <a href="/pdf-converter" class="dropdown-item">PDF Converter</a>
                        <a href="/image-converter" class="dropdown-item">Image Converter</a>
                    </div>
                </li>
                <li><a href="/about">About</a></li>
                <li><a href="/faq">FAQ</a></li>
                <li><a href="/contact">Contact</a></li>
                <li><a href="/privacy">Privacy</a></li>
                <li><a href="/terms">Terms</a></li>
            </ul>
        </nav>
    </header>

    <div class="main-container">
        <!-- Left Sidebar Ad -->
        <div class="left-sidebar">
            <div class="sidebar-ad">
                <div class="ad-label">Advertisement</div>
                <!-- Google AdSense Code -->
                <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
                <ins class="adsbygoogle"
                    style="display:block"
                    data-ad-client="ca-pub-XXXXXXXXXXXXXXXX"
                    data-ad-slot="XXXXXXXXXX"
                    data-ad-format="auto"
                    data-full-width-responsive="true"></ins>
                <script>
                    (adsbygoogle = window.adsbygoogle || []).push({});
                </script>
            </div>
        </div>

        <div class="content-area">
            <div class="tool-header">
                <h1 class="tool-title">Voter ID Crop Tool</h1>
                <p class="tool-subtitle">Crop perfect Voter ID images from e-EPIC PDFs in seconds</p>
            </div>

            <!-- Top Ad Slot -->
            <div class="ad-slot responsive-ad">
                <div class="ad-label">Advertisement</div>
                <!-- Google AdSense Code -->
                <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
                <ins class="adsbygoogle"
                    style="display:block"
                    data-ad-client="ca-pub-XXXXXXXXXXXXXXXX"
                    data-ad-slot="XXXXXXXXXX"
                    data-ad-format="auto"
                    data-full-width-responsive="true"></ins>
                <script>
                    (adsbygoogle = window.adsbygoogle || []).push({});
                </script>
            </div>

            <div class="upload-card">
                <div class="upload-area" id="uploadArea">
                    <!-- Voter ID image -->
                    <img src="/static/images/voterid.png" alt="Voter ID Card" 
                         style="width: 85px; height: 85px; object-fit: contain; margin-bottom: 25px; border-radius: 10px; box-shadow: 0 5px 15px rgba(156, 39, 176, 0.2); border: 2px solid rgba(156, 39, 176, 0.3);">
                    
                    <h3>Drop Your Voter ID PDF Here</h3>
                    <p>Supported: e-EPIC Voter ID PDF files â€¢ Max 10MB</p>
                    
                    <div class="file-name" id="fileName"></div>
                    
                    <div class="password-section" id="passwordSection">
                        <input type="password" class="password-input" id="pdfPassword" placeholder="Enter PDF password if protected">
                    </div>
                    
                    <button class="browse-btn" id="browseBtn">
                        <i class="fas fa-folder-open"></i> Select PDF File
                    </button>
                    <input type="file" id="fileInput" accept=".pdf" style="display: none;">
                </div>

                <!-- Before Convert Ad Slot -->
                <div class="ad-slot before-convert">
                    <div class="ad-label">Advertisement</div>
                    <!-- Google AdSense Code -->
                    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
                    <ins class="adsbygoogle"
                        style="display:block"
                        data-ad-client="ca-pub-XXXXXXXXXXXXXXXX"
                        data-ad-slot="XXXXXXXXXX"
                        data-ad-format="auto"
                        data-full-width-responsive="true"></ins>
                    <script>
                        (adsbygoogle = window.adsbygoogle || []).push({});
                    </script>
                </div>

                <div class="error-message" id="errorMessage"></div>
                <div class="success-message" id="successMessage"></div>
                <div class="auto-delete-notice" id="autoDeleteNotice">
                    <i class="fas fa-clock"></i> Files are automatically deleted after 5 minutes for your privacy
                </div>

                <div style="text-align: center; margin-top: 25px;">
                    <button class="browse-btn process-btn" id="processBtn">
                        <i class="fas fa-crop-alt"></i> Crop Voter ID Front & Back
                    </button>
                    <div class="loading-spinner" id="loadingSpinner"></div>
                </div>

                <!-- Cropped Preview Section -->
                <div class="preview-section" id="previewSection">
                    <div class="preview-container">
                        <div class="preview-title">
                            <i class="fas fa-check-circle"></i>
                            <h3>Voter ID Cropped Successfully!</h3>
                        </div>
                       
                        <div class="crops-preview">
                            <div class="crop-side">
                                <h4>Front Side</h4>
                                <img id="frontPreview" class="preview-image" alt="Voter ID Front Side">
                                <div class="preview-placeholder" id="frontPlaceholder">
                                    <i class="fas fa-id-card" style="font-size: 3rem; margin-bottom: 15px;"></i>
                                    <div>Front Side Preview</div>
                                </div>
                            </div>
                            
                            <div class="crop-side">
                                <h4>Back Side</h4>
                                <img id="backPreview" class="preview-image" alt="Voter ID Back Side">
                                <div class="preview-placeholder" id="backPlaceholder">
                                    <i class="fas fa-id-card" style="font-size: 3rem; margin-bottom: 15px;"></i>
                                    <div>Back Side Preview</div>
                                </div>
                            </div>
                        </div>

                        <!-- NEW: Border Options -->
                        <div class="border-options" id="borderOptions">
                            <h4>Add Border to Images:</h4>
                            <div class="border-buttons">
                                <button class="border-option-btn" id="noBorderBtn">No Border</button>
                                <button class="border-option-btn" id="thinBorderBtn">Thin Border</button>
                                <button class="border-option-btn" id="thickBorderBtn">Thick Border</button>
                            </div>
                        </div>
                       
                        <div class="action-buttons">
                            <button class="action-btn download-btn" id="downloadBothBtn">
                                <i class="fas fa-download"></i>
                                Download Both Sides
                            </button>
                            <button class="action-btn pvc-btn" id="convertToPvcBtn">
                                <i class="fas fa-id-card"></i>
                                Convert to PVC Card
                            </button>
                            <button class="action-btn new-crop-btn" id="newCropBtn">
                                <i class="fas fa-plus"></i>
                                Crop Another Voter ID
                            </button>
                        </div>
                    </div>
                </div>

                <!-- PVC Preview Section -->
                <div class="pvc-preview-section" id="pvcPreviewSection">
                    <div class="pvc-preview-container">
                        <div class="pvc-preview-title">
                            <i class="fas fa-id-card"></i>
                            <h3>PVC Card Ready! (8.6cm Ã— 5.4cm)</h3>
                        </div>
                        
                        <div class="pvc-cards-preview">
                            <div class="pvc-card front">
                                <h4>Front Side</h4>
                                <img id="pvcFrontPreview" class="pvc-image" alt="PVC Front Side">
                                <div class="pvc-placeholder" id="pvcFrontPlaceholder">
                                    <i class="fas fa-id-card" style="font-size: 2rem; margin-bottom: 10px;"></i>
                                    <div>PVC Front</div>
                                </div>
                            </div>
                            
                            <div class="pvc-card back">
                                <h4>Back Side</h4>
                                <img id="pvcBackPreview" class="pvc-image" alt="PVC Back Side">
                                <div class="pvc-placeholder" id="pvcBackPlaceholder">
                                    <i class="fas fa-id-card" style="font-size: 2rem; margin-bottom: 10px;"></i>
                                    <div>PVC Back</div>
                                </div>
                            </div>
                        </div>

                        <!-- NEW: Border Options for PVC -->
                        <div class="border-options" id="pvcBorderOptions">
                            <h4>Add Border to PVC Cards:</h4>
                            <div class="border-buttons">
                                <button class="border-option-btn" id="pvcNoBorderBtn">No Border</button>
                                <button class="border-option-btn" id="pvcThinBorderBtn">Thin Border</button>
                                <button class="border-option-btn" id="pvcThickBorderBtn">Thick Border</button>
                            </div>
                        </div>

                        <div class="print-options">
                            <h4>Print Options:</h4>
                            <div class="print-buttons">
                                <button class="print-option-btn" id="printFrontBtn">
                                    <i class="fas fa-print"></i> Print Front Only
                                </button>
                                <button class="print-option-btn" id="printBackBtn">
                                    <i class="fas fa-print"></i> Print Back Only
                                </button>
                                <button class="print-option-btn" id="printBothBtn">
                                    <i class="fas fa-print"></i> Print Both Sides
                                </button>
                            </div>
                        </div>
                        
                        <div class="action-buttons">
                            <button class="action-btn download-btn" id="downloadFrontBtn">
                                <i class="fas fa-download"></i>
                                Download Front
                            </button>
                            <button class="action-btn download-btn" id="downloadBackBtn">
                                <i class="fas fa-download"></i>
                                Download Back
                            </button>
                            <button class="action-btn new-crop-btn" id="backToCropBtn">
                                <i class="fas fa-arrow-left"></i>
                                Back to Crop
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Features in two columns -->
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">âš¡</div>
                    <h3>Lightning Fast</h3>
                    <p>Process your Voter ID PDF in seconds with optimized algorithms</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">ðŸ”’</div>
                    <h3>100% Secure</h3>
                    <p>Files auto-delete in 5 minutes. No server storage</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">ðŸŽ¯</div>
                    <h3>Perfect Crop</h3>
                    <p>Automatic detection with precise Voter ID dimensions</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">ðŸ“±</div>
                    <h3>Mobile Friendly</h3>
                    <p>Works perfectly on all devices and screen sizes</p>
                </div>
            </div>

            <section class="guide-section">
                <div class="guide-header">
                    <h2>How to Crop Voter ID from PDF</h2>
                    <p>Simple step-by-step guide to extract your Voter ID</p>
                </div>

                <div class="guide-steps">
                    <div class="guide-step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <h3>Download e-EPIC</h3>
                            <p>Get your e-EPIC PDF from the official voter portal or CSC center</p>
                        </div>
                    </div>
                    <div class="guide-step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <h3>Upload PDF File</h3>
                            <p>Click above to select your Voter ID PDF file from your device</p>
                        </div>
                    </div>
                    <div class="guide-step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <h3>Automatic Processing</h3>
                            <p>Our tool automatically detects and crops both front and back sides</p>
                        </div>
                    </div>
                    <div class="guide-step">
                        <div class="step-number">4</div>
                        <div class="step-content">
                            <h3>Download & Use</h3>
                            <p>Get your cropped Voter ID card images in high quality 300 DPI</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- FAQ Section for SEO -->
            <section class="guide-section" style="margin-top: 40px;">
                <div class="guide-header">
                    <h2>Voter ID Crop Tool - Frequently Asked Questions</h2>
                </div>
                <div class="guide-steps">
                    <div class="guide-step">
                        <div class="step-content">
                            <h3>What is a Voter ID Crop Tool?</h3>
                            <p>The Voter ID Crop Tool is a free online utility that extracts and crops the Voter ID card image from e-EPIC PDF documents. It converts your Voter ID PDF to a clean JPG or PNG image file suitable for various applications.</p>
                        </div>
                    </div>
                    <div class="guide-step">
                        <div class="step-content">
                            <h3>Is this Voter ID cropping tool free to use?</h3>
                            <p>Yes, our Voter ID Crop Tool is completely free to use. There are no hidden charges or subscription fees. You can crop unlimited Voter ID cards without any cost.</p>
                        </div>
                    </div>
                    <div class="guide-step">
                        <div class="step-content">
                            <h3>How secure is my Voter ID data?</h3>
                            <p>Your privacy is our top priority. All uploaded files are automatically deleted from our servers within 5 minutes of processing. We don't store any personal information or Voter ID details.</p>
                        </div>
                    </div>
                    <div class="guide-step">
                        <div class="step-content">
                            <h3>What file formats are supported?</h3>
                            <p>Our tool supports e-EPIC PDF files downloaded from the official voter portal. The output is available in high-quality JPG and PNG formats suitable for official use.</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- SEO Content Section -->
            <div class="seo-content">
                <h2>Voter ID Crop Tool - Free Online Voter ID PDF to Image Converter</h2>
                
                <p>Looking for an easy way to <strong>crop Voter ID card</strong> from your e-EPIC PDF? Our free online <strong>Voter ID card crop tool</strong> makes it simple to extract the perfect Voter ID card image from your PDF document. Whether you need to <strong>crop Voter ID card online</strong> for official documentation, application forms, or digital verification, our tool provides a secure and efficient solution.</p>
                
                <div class="official-links">
                    <h3>Official Election Commission Resources</h3>
                    <p>Before using our crop tool, make sure you have your official e-EPIC PDF downloaded from the official voter portal:</p>
                    <a href="https://electoralsearch.in/" class="official-link" target="_blank">Electoral Search Portal</a>
                    <a href="https://voterportal.eci.gov.in/" class="official-link" target="_blank">Voter Portal</a>
                    <a href="https://www.nvsp.in/" class="official-link" target="_blank">National Voter Service Portal</a>
                    <p style="margin-top: 10px; font-size: 0.9rem;"><strong>Note:</strong> Always download your Voter ID documents only from official Election Commission websites to ensure security and authenticity.</p>
                </div>
                
                <h3>How to Crop Voter ID Card PDF</h3>
                <p>Many users search for "<strong>how to crop Voter ID card pdf</strong>" because they need a clean, properly sized Voter ID card image for various purposes. Our <strong>Voter ID cropping software</strong> automates this process with these simple steps:</p>
                
                <ul>
                    <li>First, download your e-EPIC PDF from the official voter portal (links provided above)</li>
                    <li>Upload your e-EPIC PDF file to our tool</li>
                    <li>Our system automatically detects and crops both front and back sides of the Voter ID card</li>
                    <li>Preview the cropped Voter ID card images</li>
                    <li>Download the perfectly cropped Voter ID card in high resolution</li>
                </ul>
                
                <h3>Why Use Our Voter ID Card Crop Tool?</h3>
                <p>Our <strong>crop Voter ID</strong> tool stands out from other solutions because:</p>
                
                <ul>
                    <li><strong>100% Free</strong> - No hidden costs or subscriptions</li>
                    <li><strong>Automatic Detection</strong> - No manual cropping required</li>
                    <li><strong>Privacy Focused</strong> - Files auto-delete after 5 minutes</li>
                    <li><strong>High Quality</strong> - Output in 300 DPI resolution</li>
                    <li><strong>Mobile Friendly</strong> - Works on all devices</li>
                    <li><strong>Perfect Size</strong> - Get <strong>Voter ID card crop size online PDF</strong> with exact dimensions</li>
                </ul>
                
                <h3>Common Uses for Cropped Voter ID Card</h3>
                <p>When you <strong>crop Voter ID card from PDF</strong>, the resulting image can be used for:</p>
                
                <ul>
                    <li>Online application forms requiring Voter ID upload</li>
                    <li>Digital verification processes</li>
                    <li>Creating digital identity wallets</li>
                    <li>Official documentation where Voter ID proof is needed</li>
                    <li>Banking and financial institution applications</li>
                    <li>Educational institution admissions</li>
                    <li>Government scheme applications</li>
                </ul>
                
                <h3>Secure Voter ID Card Cropping</h3>
                <p>We understand the importance of Voter ID security. Our <strong>Voter ID card crop tool</strong> processes files entirely in your browser when possible, and any server processing automatically deletes files after 5 minutes. We never store your Voter ID information or personal data.</p>
                
                <p>Whether you need to <strong>crop Voter ID online</strong> for a single use or multiple cards, our tool provides the fastest, most secure way to get perfectly cropped Voter ID card images from your e-EPIC PDF files.</p>
                
                <div class="official-links">
                    <h3>Important Voter ID Security Tips</h3>
                    <p>When dealing with your Voter ID card, always follow these security practices:</p>
                    <ul>
                        <li>Only download e-EPIC from official Election Commission websites</li>
                        <li>Never share your Voter ID number or PDF with unknown persons</li>
                        <li>Use password protection for your e-EPIC PDF</li>
                        <li>Regularly check your voter details on the electoral roll</li>
                        <li>Report any discrepancies in your voter information immediately</li>
                    </ul>
                    <a href="https://eci.gov.in/" class="official-link" target="_blank">Election Commission of India</a>
                </div>
            </div>
        </div>

        <!-- Right Sidebar Ad -->
        <div class="right-sidebar">
            <div class="sidebar-ad">
                <div class="ad-label">Advertisement</div>
                <!-- Google AdSense Code -->
                <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
                <ins class="adsbygoogle"
                    style="display:block"
                    data-ad-client="ca-pub-XXXXXXXXXXXXXXXX"
                    data-ad-slot="XXXXXXXXXX"
                    data-ad-format="auto"
                    data-full-width-responsive="true"></ins>
                <script>
                    (adsbygoogle = window.adsbygoogle || []).push({});
                </script>
            </div>
        </div>
    </div>

    <footer>
        <p>&copy; 2025 E-Card Cutter. All rights reserved.</p>
        <p style="margin-top: 10px; opacity: 0.8;">Your privacy is our priority - Files auto-delete in 5 minutes</p>
        <p style="margin-top: 10px; opacity: 0.7; font-size: 0.9rem;">This tool is not affiliated with the Election Commission of India. Always download Voter ID documents from official sources only.</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Elements
            const fileInput = document.getElementById('fileInput');
            const browseBtn = document.getElementById('browseBtn');
            const uploadArea = document.getElementById('uploadArea');
            const fileName = document.getElementById('fileName');
            const passwordSection = document.getElementById('passwordSection');
            const processBtn = document.getElementById('processBtn');
            const previewSection = document.getElementById('previewSection');
            const pvcPreviewSection = document.getElementById('pvcPreviewSection');
            const loadingSpinner = document.getElementById('loadingSpinner');
            const errorMessage = document.getElementById('errorMessage');
            const successMessage = document.getElementById('successMessage');
            const autoDeleteNotice = document.getElementById('autoDeleteNotice');

            // Preview elements
            const frontPreview = document.getElementById('frontPreview');
            const backPreview = document.getElementById('backPreview');
            const frontPlaceholder = document.getElementById('frontPlaceholder');
            const backPlaceholder = document.getElementById('backPlaceholder');
            
            const pvcFrontPreview = document.getElementById('pvcFrontPreview');
            const pvcBackPreview = document.getElementById('pvcBackPreview');
            const pvcFrontPlaceholder = document.getElementById('pvcFrontPlaceholder');
            const pvcBackPlaceholder = document.getElementById('pvcBackPlaceholder');

            // NEW: Border Options
            const borderOptions = document.getElementById('borderOptions');
            const noBorderBtn = document.getElementById('noBorderBtn');
            const thinBorderBtn = document.getElementById('thinBorderBtn');
            const thickBorderBtn = document.getElementById('thickBorderBtn');
            
            const pvcBorderOptions = document.getElementById('pvcBorderOptions');
            const pvcNoBorderBtn = document.getElementById('pvcNoBorderBtn');
            const pvcThinBorderBtn = document.getElementById('pvcThinBorderBtn');
            const pvcThickBorderBtn = document.getElementById('pvcThickBorderBtn');

            // Buttons
            const downloadBothBtn = document.getElementById('downloadBothBtn');
            const convertToPvcBtn = document.getElementById('convertToPvcBtn');
            const newCropBtn = document.getElementById('newCropBtn');
            const downloadFrontBtn = document.getElementById('downloadFrontBtn');
            const downloadBackBtn = document.getElementById('downloadBackBtn');
            const backToCropBtn = document.getElementById('backToCropBtn');
            const printFrontBtn = document.getElementById('printFrontBtn');
            const printBackBtn = document.getElementById('printBackBtn');
            const printBothBtn = document.getElementById('printBothBtn');

            let selectedFile = null;
            let currentFileId = null;
            let currentFrontFile = null;
            let currentBackFile = null;
            let currentPvcFrontFile = null;
            let currentPvcBackFile = null;
            let deleteTimer = null;
            
            // NEW: Border settings
            let borderType = 'none'; // 'none', 'thin', 'thick'
            let pvcBorderType = 'none'; // 'none', 'thin', 'thick'

            // NEW: Mobile Menu Toggle
            document.querySelector('.mobile-menu').addEventListener('click', function() {
                document.querySelector('nav').classList.toggle('active');
            });

            // NEW: Close mobile menu when clicking on a link
            document.querySelectorAll('nav a').forEach(link => {
                link.addEventListener('click', () => {
                    document.querySelector('nav').classList.remove('active');
                });
            });

            // NEW: Close dropdown when clicking outside (for desktop)
            document.addEventListener('click', function(event) {
                const dropdowns = document.querySelectorAll('.dropdown');
                dropdowns.forEach(dropdown => {
                    if (!dropdown.contains(event.target)) {
                        const menu = dropdown.querySelector('.dropdown-menu');
                        menu.style.opacity = '0';
                        menu.style.visibility = 'hidden';
                        menu.style.transform = 'translateY(-10px)';
                    }
                });
            });

            // Event Listeners
            browseBtn.addEventListener('click', () => fileInput.click());
            uploadArea.addEventListener('click', (e) => {
                if (e.target !== browseBtn && e.target.type !== 'password') {
                    fileInput.click();
                }
            });

            fileInput.addEventListener('change', handleFileSelect);
            processBtn.addEventListener('click', processVoterId);
            downloadBothBtn.addEventListener('click', downloadBothSides);
            convertToPvcBtn.addEventListener('click', convertToPvc);
            newCropBtn.addEventListener('click', resetUploadArea);
            backToCropBtn.addEventListener('click', backToCrop);
            downloadFrontBtn.addEventListener('click', () => downloadFile(currentPvcFrontFile));
            downloadBackBtn.addEventListener('click', () => downloadFile(currentPvcBackFile));
            printFrontBtn.addEventListener('click', () => printCard('front'));
            printBackBtn.addEventListener('click', () => printCard('back'));
            printBothBtn.addEventListener('click', () => printCard('both'));

            // NEW: Border option event listeners
            noBorderBtn.addEventListener('click', () => setBorderType('none'));
            thinBorderBtn.addEventListener('click', () => setBorderType('thin'));
            thickBorderBtn.addEventListener('click', () => setBorderType('thick'));
            
            pvcNoBorderBtn.addEventListener('click', () => setPvcBorderType('none'));
            pvcThinBorderBtn.addEventListener('click', () => setPvcBorderType('thin'));
            pvcThickBorderBtn.addEventListener('click', () => setPvcBorderType('thick'));

            function setBorderType(type) {
                borderType = type;
                
                // Update active button state
                [noBorderBtn, thinBorderBtn, thickBorderBtn].forEach(btn => btn.classList.remove('active'));
                if (type === 'none') noBorderBtn.classList.add('active');
                if (type === 'thin') thinBorderBtn.classList.add('active');
                if (type === 'thick') thickBorderBtn.classList.add('active');
                
                // Update preview images with border
                updatePreviewWithBorder();
            }
            
            function setPvcBorderType(type) {
                pvcBorderType = type;
                
                // Update active button state
                [pvcNoBorderBtn, pvcThinBorderBtn, pvcThickBorderBtn].forEach(btn => btn.classList.remove('active'));
                if (type === 'none') pvcNoBorderBtn.classList.add('active');
                if (type === 'thin') pvcThinBorderBtn.classList.add('active');
                if (type === 'thick') pvcThickBorderBtn.classList.add('active');
                
                // Update PVC preview images with border
                updatePvcPreviewWithBorder();
            }
            
            function updatePreviewWithBorder() {
                if (!currentFrontFile || !currentBackFile) return;
                
                // Apply border to preview images
                const borderWidth = borderType === 'thin' ? '2px' : borderType === 'thick' ? '4px' : '0';
                const borderStyle = borderType !== 'none' ? 'solid #000' : 'none';
                
                frontPreview.style.border = `${borderWidth} ${borderStyle}`;
                backPreview.style.border = `${borderWidth} ${borderStyle}`;
            }
            
            function updatePvcPreviewWithBorder() {
                if (!currentPvcFrontFile || !currentPvcBackFile) return;
                
                // Apply border to PVC preview images
                const borderWidth = pvcBorderType === 'thin' ? '2px' : pvcBorderType === 'thick' ? '4px' : '0';
                const borderStyle = pvcBorderType !== 'none' ? 'solid #000' : 'none';
                
                pvcFrontPreview.style.border = `${borderWidth} ${borderStyle}`;
                pvcBackPreview.style.border = `${borderWidth} ${borderStyle}`;
            }

            function handleFileSelect() {
                if (this.files.length > 0) {
                    selectedFile = this.files[0];
                    
                    if (selectedFile.type !== 'application/pdf') {
                        showError('Please select a PDF file only.');
                        this.value = '';
                        selectedFile = null;
                        return;
                    }
                    
                    if (selectedFile.size > 10 * 1024 * 1024) {
                        showError('File size must be less than 10MB.');
                        this.value = '';
                        selectedFile = null;
                        return;
                    }
                    
                    checkPDFProtection();
                    fileName.textContent = `Selected: ${selectedFile.name}`;
                    fileName.style.display = 'block';
                    uploadArea.classList.add('dragover');
                    hideMessages();
                }
            }

            async function processVoterId() {
                if (!selectedFile) {
                    showError('Please select a Voter ID PDF file first.');
                    return;
                }

                const password = document.getElementById('pdfPassword').value;

                processBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Cropping Front & Back...';
                processBtn.disabled = true;
                loadingSpinner.style.display = 'block';
                hideMessages();

                try {
                    const formData = new FormData();
                    formData.append('file', selectedFile);
                    formData.append('password', password);

                    const response = await fetch('/upload-voterid-both', {
                        method: 'POST',
                        body: formData
                    });

                    const data = await response.json();

                    if (data.success) {
                        previewSection.style.display = 'block';
                        processBtn.style.display = 'none';
                        borderOptions.style.display = 'block'; // NEW: Show border options

                        currentFileId = data.file_id;
                        currentFrontFile = data.front_file;
                        currentBackFile = data.back_file;

                        // Load preview images
                        loadPreviewImage(`/preview/${data.front_file}`, frontPreview, frontPlaceholder);
                        loadPreviewImage(`/preview/${data.back_file}`, backPreview, backPlaceholder);

                        startAutoDeleteTimer();
                        showSuccess('Voter ID front & back cropped successfully!');

                    } else {
                        throw new Error(data.error || 'Unknown error occurred');
                    }
                } catch (error) {
                    console.error('Error:', error);
                    showError('Error processing file: ' + error.message);
                } finally {
                    processBtn.disabled = false;
                    processBtn.innerHTML = '<i class="fas fa-crop-alt"></i> Crop Voter ID Front & Back';
                    loadingSpinner.style.display = 'none';
                }
            }

            async function downloadBothSides() {
                if (!currentFrontFile || !currentBackFile) {
                    showError('Please crop Voter ID card first.');
                    return;
                }

                downloadBothBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Creating Image...';
                downloadBothBtn.disabled = true;

                try {
                    // Individual images download karen
                    const [frontBlob, backBlob] = await Promise.all([
                        fetch(`/preview/${currentFrontFile}`).then(r => r.blob()),
                        fetch(`/preview/${currentBackFile}`).then(r => r.blob())
                    ]);

                    // Canvas use karke combined image banayen without labels
                    const canvas = document.createElement('canvas');
                    const ctx = canvas.getContext('2d');
                    
                    // Load images
                    const frontImg = await createImageBitmap(frontBlob);
                    const backImg = await createImageBitmap(backBlob);
                    
                    // NEW: Calculate border width
                    const borderWidth = borderType === 'thin' ? 2 : borderType === 'thick' ? 4 : 0;
                    
                    // Canvas size set karen (dono images ke liye space with borders)
                    canvas.width = frontImg.width + backImg.width + 20 + (borderWidth * 4); // 20px gap + borders
                    canvas.height = Math.max(frontImg.height, backImg.height) + (borderWidth * 2);
                    
                    // Background white karen
                    ctx.fillStyle = 'white';
                    ctx.fillRect(0, 0, canvas.width, canvas.height);
                    
                    // NEW: Draw borders if needed
                    if (borderType !== 'none') {
                        ctx.strokeStyle = '#000';
                        ctx.lineWidth = borderWidth;
                        
                        // Front border
                        ctx.strokeRect(
                            borderWidth/2, 
                            borderWidth/2, 
                            frontImg.width + borderWidth, 
                            frontImg.height + borderWidth
                        );
                        
                        // Back border
                        ctx.strokeRect(
                            frontImg.width + 20 + borderWidth/2, 
                            borderWidth/2, 
                            backImg.width + borderWidth, 
                            backImg.height + borderWidth
                        );
                    }
                    
                    // Images draw karen (labels ke bina)
                    ctx.drawImage(frontImg, borderWidth, borderWidth);
                    ctx.drawImage(backImg, frontImg.width + 20 + borderWidth, borderWidth);
                    
                    // Download combined image
                    canvas.toBlob(blob => {
                        const link = document.createElement('a');
                        link.href = URL.createObjectURL(blob);
                        link.download = 'voterid_combined.jpg';
                        document.body.appendChild(link);
                        link.click();
                        document.body.removeChild(link);
                        
                        showSuccess('Both sides downloaded successfully!');
                    }, 'image/jpeg', 0.9);
                    
                } catch (error) {
                    console.error('Error:', error);
                    showError('Download failed: ' + error.message);
                } finally {
                    downloadBothBtn.disabled = false;
                    downloadBothBtn.innerHTML = '<i class="fas fa-download"></i> Download Both Sides';
                }
            }

            async function convertToPvc() {
                if (!currentFrontFile || !currentBackFile) {
                    showError('Please crop Voter ID card first.');
                    return;
                }

                convertToPvcBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Converting to PVC...';
                convertToPvcBtn.disabled = true;
                hideMessages();

                try {
                    const response = await fetch('/convert-to-pvc-voterid', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            front_file: currentFrontFile,
                            back_file: currentBackFile
                        })
                    });

                    const data = await response.json();

                    if (data.success) {
                        pvcPreviewSection.style.display = 'block';
                        previewSection.style.display = 'none';
                        pvcBorderOptions.style.display = 'block'; // NEW: Show PVC border options

                        currentPvcFrontFile = data.pvc_front_file;
                        currentPvcBackFile = data.pvc_back_file;

                        // Load PVC preview images
                        loadPreviewImage(`/preview/${data.pvc_front_file}`, pvcFrontPreview, pvcFrontPlaceholder);
                        loadPreviewImage(`/preview/${data.pvc_back_file}`, pvcBackPreview, pvcBackPlaceholder);

                        showSuccess('Voter ID converted to PVC size (8.6cm Ã— 5.4cm) successfully!');

                    } else {
                        throw new Error(data.error || 'Conversion failed');
                    }
                } catch (error) {
                    console.error('Error:', error);
                    showError('PVC conversion failed: ' + error.message);
                } finally {
                    convertToPvcBtn.disabled = false;
                    convertToPvcBtn.innerHTML = '<i class="fas fa-id-card"></i> Convert to PVC Card';
                }
            }

            async function printCard(printType) {
                if (!currentPvcFrontFile || !currentPvcBackFile) {
                    showError('PVC files are required for printing.');
                    return;
                }

                const printBtn = document.getElementById(`print${printType.charAt(0).toUpperCase() + printType.slice(1)}Btn`);
                const originalText = printBtn.innerHTML;
                
                printBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Preparing Print...';
                printBtn.disabled = true;

                try {
                    const response = await fetch('/print-pvc-voterid', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            type: printType,
                            pvc_front_file: currentPvcFrontFile,
                            pvc_back_file: currentPvcBackFile,
                            orientation: 'landscape', // Ensure landscape for both sides
                            gap: 'official', // Official gap between cards
                            border: pvcBorderType // NEW: Pass border type
                        })
                    });

                    const data = await response.json();

                    if (data.success) {
                        // Create print-friendly HTML page instead of downloading
                        createPrintPage(printType);
                        showSuccess(`Print page opened for ${printType} side(s)!`);
                    } else {
                        throw new Error(data.error || 'Print preparation failed');
                    }
                } catch (error) {
                    console.error('Error:', error);
                    showError('Print preparation failed: ' + error.message);
                } finally {
                    printBtn.disabled = false;
                    printBtn.innerHTML = originalText;
                }
            }

            function createPrintPage(printType) {
                // Create a new window with print-friendly layout
                const printWindow = window.open('', '_blank');
                
                let printContent = '';
                
                if (printType === 'both') {
                    // Landscape layout for both sides with proper gap - NO LABELS
                    printContent = `
                        <!DOCTYPE html>
                        <html>
                        <head>
                            <title>Print Voter ID Card - Both Sides</title>
                            <style>
                                body { 
                                    margin: 0; 
                                    padding: 40px; 
                                    background: white; 
                                    text-align: center;
                                }
                                .print-container {
                                    display: flex;
                                    justify-content: center;
                                    gap: 40px; /* Official gap between cards */
                                    align-items: center;
                                    min-height: 100vh;
                                }
                                .card {
                                    border-radius: 8px;
                                    overflow: hidden;
                                    ${pvcBorderType !== 'none' ? `border: ${pvcBorderType === 'thin' ? '2px' : '4px'} solid #000;` : ''}
                                }
                                .card img {
                                    max-width: 100%;
                                    height: auto;
                                    display: block;
                                }
                                @media print {
                                    body { padding: 20px; }
                                    .print-container { gap: 35px; }
                                }
                            </style>
                        </head>
                        <body>
                            <div class="print-container">
                                <div class="card">
                                    <img src="/preview/${currentPvcFrontFile}" alt="Voter ID Front Side">
                                </div>
                                <div class="card">
                                    <img src="/preview/${currentPvcBackFile}" alt="Voter ID Back Side">
                                </div>
                            </div>
                            <script>
                                window.onload = function() {
                                    window.print();
                                    // Close window after print dialog closes
                                    setTimeout(function() {
                                        window.close();
                                    }, 500);
                                }
                            <\/script>
                        </body>
                        </html>
                    `;
                } else {
                    // Single side print - NO LABELS
                    const side = printType === 'front' ? currentPvcFrontFile : currentPvcBackFile;
                    
                    printContent = `
                        <!DOCTYPE html>
                        <html>
                        <head>
                            <title>Print Voter ID Card - ${printType} Side</title>
                            <style>
                                body { 
                                    margin: 0; 
                                    padding: 60px; 
                                    background: white; 
                                    text-align: center;
                                    display: flex;
                                    align-items: center;
                                    justify-content: center;
                                    min-height: 100vh;
                                }
                                .card {
                                    border-radius: 8px;
                                    overflow: hidden;
                                    ${pvcBorderType !== 'none' ? `border: ${pvcBorderType === 'thin' ? '2px' : '4px'} solid #000;` : ''}
                                    max-width: 90%;
                                }
                                .card img {
                                    max-width: 100%;
                                    height: auto;
                                    display: block;
                                }
                                @media print {
                                    body { padding: 40px; }
                                }
                            </style>
                        </head>
                        <body>
                            <div class="card">
                                <img src="/preview/${side}" alt="Voter ID ${printType} Side">
                            </div>
                            <script>
                                window.onload = function() {
                                    window.print();
                                    // Close window after print dialog closes
                                    setTimeout(function() {
                                        window.close();
                                    }, 500);
                                }
                            <\/script>
                        </body>
                        </html>
                    `;
                }
                
                printWindow.document.write(printContent);
                printWindow.document.close();
            }

            function downloadFile(filename) {
                if (filename) {
                    window.location.href = `/download/${filename}`;
                }
            }

            function backToCrop() {
                pvcPreviewSection.style.display = 'none';
                previewSection.style.display = 'block';
            }

            function loadPreviewImage(imageUrl, imgElement, placeholderElement) {
                const img = new Image();
                img.onload = function() {
                    placeholderElement.style.display = 'none';
                    imgElement.src = imageUrl;
                    imgElement.style.display = 'block';
                    
                    // Apply border if needed
                    if (imgElement === frontPreview || imgElement === backPreview) {
                        updatePreviewWithBorder();
                    } else if (imgElement === pvcFrontPreview || imgElement === pvcBackPreview) {
                        updatePvcPreviewWithBorder();
                    }
                };
                img.onerror = function() {
                    placeholderElement.innerHTML = `
                        <i class="fas fa-exclamation-triangle"></i>
                        <div>Preview Load Failed</div>
                    `;
                };
                img.src = imageUrl;
            }

            function checkPDFProtection() {
                passwordSection.style.display = 'block';
                uploadArea.classList.add('dragover');
            }

            function startAutoDeleteTimer() {
                if (deleteTimer) clearTimeout(deleteTimer);
                autoDeleteNotice.style.display = 'block';
                
                deleteTimer = setTimeout(() => {
                    resetUploadArea();
                    showSuccess('Files have been automatically deleted for your privacy.');
                    autoDeleteNotice.style.display = 'none';
                }, 300000);
            }

            function resetUploadArea() {
                fileName.style.display = 'none';
                passwordSection.style.display = 'none';
                uploadArea.classList.remove('dragover');
                document.getElementById('pdfPassword').value = '';
                selectedFile = null;
                fileInput.value = '';
                processBtn.style.display = 'block';
                previewSection.style.display = 'none';
                pvcPreviewSection.style.display = 'none';
                borderOptions.style.display = 'none'; // NEW: Hide border options
                pvcBorderOptions.style.display = 'none'; // NEW: Hide PVC border options

                // Reset all previews
                [frontPreview, backPreview, pvcFrontPreview, pvcBackPreview].forEach(img => {
                    img.style.display = 'none';
                    img.src = '';
                    img.style.border = 'none'; // NEW: Reset borders
                });
                
                [frontPlaceholder, backPlaceholder, pvcFrontPlaceholder, pvcBackPlaceholder].forEach(placeholder => {
                    placeholder.style.display = 'flex';
                    placeholder.innerHTML = `
                        <i class="fas fa-id-card" style="font-size: 2rem; margin-bottom: 10px;"></i>
                        <div>Loading preview...</div>
                    `;
                });

                // Reset variables
                currentFileId = currentFrontFile = currentBackFile = currentPvcFrontFile = currentPvcBackFile = null;
                
                // NEW: Reset border settings
                borderType = 'none';
                pvcBorderType = 'none';
                [noBorderBtn, thinBorderBtn, thickBorderBtn, pvcNoBorderBtn, pvcThinBorderBtn, pvcThickBorderBtn].forEach(btn => {
                    btn.classList.remove('active');
                });
                noBorderBtn.classList.add('active');
                pvcNoBorderBtn.classList.add('active');
                
                hideMessages();
                if (deleteTimer) {
                    clearTimeout(deleteTimer);
                    deleteTimer = null;
                }
            }

            function hideMessages() {
                errorMessage.style.display = 'none';
                successMessage.style.display = 'none';
                autoDeleteNotice.style.display = 'none';
            }

            function showError(message) {
                errorMessage.textContent = message;
                errorMessage.style.display = 'block';
                successMessage.style.display = 'none';
            }

            function showSuccess(message) {
                successMessage.textContent = message;
                successMessage.style.display = 'block';
                errorMessage.style.display = 'none';
            }
        });
    </script>
</body>
</html>
